<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="–ó–∞–≤–æ–¥–ê–Ω–∞–ª–∏—Ç–∏–∫—Å - –°–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª–∏–∑–∞ –∂—É—Ä–Ω–∞–ª–∞ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤">
    <meta name="theme-color" content="#1a56db">
    <title>–ó–∞–≤–æ–¥–ê–Ω–∞–ª–∏—Ç–∏–∫—Å - –ê–Ω–∞–ª–∏–∑ –∂—É—Ä–Ω–∞–ª–∞ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞</title>
    
    <!-- –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ -->
    <link rel="preload" href="libs/react.production.min.js" as="script">
    <link rel="preload" href="libs/react-dom.production.min.js" as="script">
    <link rel="preload" href="libs/prop-types.min.js" as="script">
    <link rel="preload" href="libs/Recharts.js" as="script">
    <link rel="preload" href="libs/lucide.min.js" as="script">
    <link rel="preload" href="libs/babel.min.js" as="script">
    <link rel="preload" href="styles.css" as="style">
    
    <!-- –°—Ç–∏–ª–∏ -->
    <link rel="stylesheet" href="styles.css">
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üè≠</text></svg>">
</head>
<body>
    <!-- –ö–æ—Ä–Ω–µ–≤–æ–π —ç–ª–µ–º–µ–Ω—Ç –¥–ª—è React -->
    <div id="root">
        <div class="loading-screen">
            <div class="loading-spinner"></div>
            <p>–ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è...</p>
        </div>
    </div>
    
    <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –æ—à–∏–±–æ–∫ -->
    <div id="error" class="error-container" style="display:none">
        <div class="error-content">
            <h3 class="error-title"></h3>
            <p class="error-message"></p>
            <button class="error-close">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
    </div>
    
    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º –ª–æ–∫–∞–ª—å–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ -->
    <script src="libs/react.production.min.js"></script>
    <script src="libs/react-dom.production.min.js"></script>
    <script src="libs/prop-types.min.js"></script>
    <script src="libs/Recharts.js"></script>
    <script src="libs/lucide.min.js"></script>
    <script src="libs/babel.min.js"></script>
    
    <!-- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫ -->
    <script>
        // –ì–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—à–∏–±–æ–∫
        window.addEventListener('error', function(event) {
            console.error('–ì–ª–æ–±–∞–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞:', event.error);
            showError('–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞', event.error.message);
        });

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–π –ø—Ä–æ–º–∏—Å–æ–≤
        window.addEventListener('unhandledrejection', function(event) {
            console.error('–ù–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –ø—Ä–æ–º–∏—Å–∞:', event.reason);
            showError('–û—à–∏–±–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è', event.reason.message || '–ü—Ä–æ–∏–∑–æ—à–ª–∞ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞');
        });

        // –§—É–Ω–∫—Ü–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—à–∏–±–æ–∫
        function showError(title, message) {
            const errorDiv = document.getElementById('error');
            if (errorDiv) {
                errorDiv.querySelector('.error-title').textContent = title;
                errorDiv.querySelector('.error-message').textContent = message;
                errorDiv.style.display = 'block';
            }
        }

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫
        window.addEventListener('DOMContentLoaded', function() {
            const requiredLibs = {
                'React': window.React,
                'ReactDOM': window.ReactDOM,
                'PropTypes': window.PropTypes,
                'Recharts': window.Recharts,
                'lucide': window.lucide,
                'Babel': window.Babel
            };
            
            console.log('–°—Ç–∞—Ç—É—Å –∑–∞–≥—Ä—É–∑–∫–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫:', Object.fromEntries(
                Object.entries(requiredLibs).map(([name, lib]) => [name, !!lib])
            ));
            
            const missingLibs = Object.entries(requiredLibs)
                .filter(([_, lib]) => !lib)
                .map(([name]) => name);
            
            if (missingLibs.length > 0) {
                showError(
                    '–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫',
                    `–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏: ${missingLibs.join(', ')}. ` +
                    '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ —Ñ–∞–π–ª—ã –±–∏–±–ª–∏–æ—Ç–µ–∫ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ libs/'
                );
                return;
            }
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Lucide –∏–∫–æ–Ω–æ–∫
            if (window.lucide?.createIcons) {
                window.lucide.createIcons();
            }
            
            console.log('–í—Å–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω—ã!');
        });
    </script>
    
    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º —É—Ç–∏–ª–∏—Ç—ã -->
    <script src="utils.js"></script>
    
    <!-- –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –ø–æ–¥–∫–ª—é—á–∞–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã -->
    <script type="text/babel" data-presets="react" src="components/Dashboard.js"></script>
    <script type="text/babel" data-presets="react" src="components/LogViewer.js"></script>
    <script type="text/babel" data-presets="react" src="components/Analytics.js"></script>
    <script type="text/babel" data-presets="react" src="components/Settings.js"></script>
    
    <!-- –í —Å–∞–º–æ–º –∫–æ–Ω—Ü–µ –ø–æ–¥–∫–ª—é—á–∞–µ–º –≥–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è -->
    <script type="text/babel" data-presets="react" src="app.js"></script>
</body>
</html>
